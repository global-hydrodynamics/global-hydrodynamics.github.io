---
title: "Yamazaki Lab - Game"
layout: pagelay
excerpt: "Yamazaki Lab -- Game"
permalink: /scratch_game/
---

# Rainfall-runoff modelling game on *Scratch*

#### 降雨-流出プロセスをゲームで学ぼう！
雨が降ってから河川に水が流れでるまでの仕組みを「降雨-流出プロセス」と言います。<br>
その仕組みをシミュレーションで楽しく学べる**降雨-流出モデリングゲーム**を作りました。

降雨-流出モデルの地表面状態を変えて、シミュレーションされる流出パターンを「ターゲット」に合わせるゲームです。

ゲームを遊びながら、降雨-流出プロセスを学んでみましょう。(緑旗のボタンを押すとゲームがスタートします)

<iframe src="https://scratch.mit.edu/projects/864115525/embed" allowtransparency="true" width="720" height="460" frameborder="0" scrolling="no" allowfullscreen></iframe>

### ルールと遊びかた
#### 1. ゲームの目的
河川流域に降った雨が、河川に流出するまでの様々なプロセスを水粒子の動きとしてアニメーションで表現しています。

- ゲームをスタートすると、降水量（Precipitation）の時間変化が水色のグラフとして表示されます。シミュレーション中は、このグラフで示された強度の雨が降ってきます。
- 雨が地表面に到達すると水粒子となって流域内を移動します。水粒子の動き方は、地表面の状態によって様々な影響を受けます。
- 水粒子が河川に到達すると流出（Runoff）となります。シミュレーションされる流出量の時間変化が、青色で示されたグラフに近づくように地表面状態を設定するのがこのゲームの目的です。

※降水量の時間変化グラフを「ハイエトグラフ」、流出量の時間変化グラフを「ハイドログラフ」と言います。

<img src="{{ site.url }}{{ site.baseurl }}/images/scratch/Scratch_fig01.jpg" width="50%"/>

#### 2. 地表面状態の設定
シミュレーションを開始する前に、画面中のピンク色矢印で示された部分をクリック（またはタップ）することで変更できます。

- 上流から下流の４箇所の地表面タイプを変更できます。森林・草地・都市の３つが選択できます。それぞれのタイプで、水粒子の動き方が変わります。
- 土壌水分（Soil Wetness）の初期状態も変更できます。土壌水分の諸基地は 0 ~ 100の範囲で設定できます。0が土壌が乾いた状態。100が土壌が完全に湿って飽和した状態です。

ハイエトグラフとハイドログラフを見比べて、最適な地表面状態を予想してください。

#### 3. シミュレーションの実行
地表面状態の設定が終わった後に「Click to Start Simulation」ボタンを押すとシミュレーションが始まります。

シミュレーション中は操作できないので、水粒子がどう動くかを観察してください。

- 降雨の一部は、蒸発や蒸散などによって流出に寄与しない「降雨損失」になります。
- 地表面に到達した水粒子の一部は地表面を流れ、一部は地中に浸透します。
- 地中では水粒子はゆっくりと動き、一部は土壌に吸収されます。


<img src="{{ site.url }}{{ site.baseurl }}/images/scratch/Scratch_fig02.jpg" width="50%"/>

#### 4. シミュレーション結果とスコア
シミュレーションされた流出量の時系列データがピンク色で表示されます。<br>
青色のターゲット流出量とピンク色のシミュレーション流出量の類似度に基づいて、スコアが計算されます。スコアは100点満点です。

ターゲットとシミュレーションがどう違うかを分析して、より高いスコアがだせるよう地表面状態を調整しましょう。<br>
**目指せ90点以上！**

<img src="{{ site.url }}{{ site.baseurl }}/images/scratch/Scratch_fig03.jpg" width="50%"/>

#### 5. ステージ選択 
降雨とターゲット流出量のパターンが異なる３つのステージが用意されています。それぞれのステージで90点以上を目指しながら、地表面タイプや土壌水分が洪水にどのような影響を与えるか考えてみましょう。

- 都市化すると洪水が起きやすくなるのはどうしてでしょうか？
- 都市・草地・森林で水の動きはどう異なるでしょうか？
- 森林が増えると、洪水にはどのような影響があるでしょうか？
- 降雨開始時点で土壌が湿っていると、流出の様子はどう変わるでしょうか？
- 上流と下流に雨が降る場合、河川水位が上がるまでのタイムラグはどう変わるでしょうか？

<p> &nbsp; </p>
<p> &nbsp; </p>

### 降雨-流出モデリングゲームの解説

<img src="{{ site.url }}{{ site.baseurl }}/images/scratch/Scratch_fig04.jpg" width="75%"/>

#### 複雑なプロセスをアニメーションで表現
降雨-流出プロセスは、植生や建物による遮断・土壌への浸透・表面流出と地下流出・土壌中の水移動など、様々なスケールの複数の現象が相互作用するとても複雑なものです。

開発した降雨流出モデリングゲームは、降雨-流出プロセスの主要な要素を水粒子の動きとしてアニメーションで分かりやすく示すことで、複雑な現象の理解を助けることを目的としています。

#### ゲームで楽しく試行錯誤し、プロセスを理解する
このゲームは、プレイヤーが自ら考えて変えた地表面状態を変えたシミュレーションを繰り返すことで、降雨流出のプロセスをより深く理解してもらうことを目指しています。

より高いスコアを目指してシミュレーションを繰り返すうちに、「都市化したら洪水が増える」という関係性を学ぶだけでなく、その背景にあるプロセスの理解も進むと考えています。

#### ゲームを作る楽しさにも触れてみよう
降雨-流出モデリングゲームは、教育用プログラミング言語Scratchで開発されています。ソースコードはScratchで公開されています。ゲームが動く仕組みをのぞいてみるだけでなく、地表面タイプを追加したり、もっと難しいステージを作ったりできます。

[Scratch で公開しているソースコードを見てみる](https://scratch.mit.edu/projects/864115525/)

#### 論文でより詳しく知りたい
降雨-流出モデリングゲームの開発については、学術論文として水文・水資源学会に発表しています。開発の背景・降雨流出モデルで考慮している要素・ゲームの教育効果などが説明されています。興味がある方は読んでみてください。

*山崎 大, 岡田 実奈美, 矢澤 大志 (2023, accepted) <br>
教育用プログラム言語Scratchを用いた降雨流出モデリングゲームの開発とその水文学教育への利用可能性<br>
水文・水資源学会誌 (近日オンライン版を公開予定)*

<p> &nbsp; </p>
<p> &nbsp; </p>

### ゲームを教育/研究などに利用したい

開発した降雨-流出モデリングゲームは、CC-BY 4.0ライセンスで公開されており、基本的には自由に利用いただいて構いません。<br>
以下に簡単なガイドラインを示します。

- **学校教育や大学オープンキャンパスでの利用**については、出典を明示してください。必須ではありませんが、利用する場合はメールにて連絡いただけると嬉しいです。<br>
  *出典の記載方法：「東京大学生産技術研究所 山崎研究室が開発」もしくはWebPageへのリンク「[https://global-hydrodynamics.github.io/scratch_game/](https://global-hydrodynamics.github.io/scratch_game/)」を記載してください。*
- **この降雨流出モデリングゲームを用いて教育効果実証などの研究活動を行いたい場合**は、事前にメール連絡してください。（共同研究者を探しています）
- **このゲームを発展させて教育ツールや研究ツールを開発したい場合**も、メールにて相談してください。（共同開発者を探しています）

上記を含めて、降雨流出モデリングゲームについての問い合わせは、山崎までメールにて連絡をお願いします。

*山崎 大 (東京大学生産技術研究所 准教授) <br>
yamadai [at] iis.u-tokyo.ac.jp*

<p> &nbsp; </p>